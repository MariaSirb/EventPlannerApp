@page
@model EventPlannerApp.Pages.ContactModel
@{
    ViewData["Title"] = "Contact";
}


@*<html>
<head>*@

    <!--using-fontAwesome------------>
   @* <script src="https://kit.fontawesome.com/c8e4d183c2.js" crossorigin="anonymous"></script>
</head>
<body>*@

    <!--contact-form-container------------------->
   @* <section id="contact">*@

        <!--socail----------->
        @*<div class="social">*@
            <!--icons--------->
           @* <a href="https://www.google.com/maps/d/viewer?mid=1IebEObFn7OscaZR7duxSuNZCmyk&hl=en&ll=46.772216878081785%2C23.582302999999982&z=14"><i class="bi bi-geo-alt"></i></a>
            <a href="tel:0756429081"><i class="bi bi-phone"></i></a>
            <a href="mailto:sirbmaria27@gmail.com"><i class="bi bi-envelope-at"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="bi bi-facebook"></i></a>
        </div>*@
        <!--contact-box------------->
       @* <div class="contact-box">
            <!--heading---------->
            <div class="c-heading">
                <h1>Get In Touch</h1>
            </div>
            <!--inputs------------------>
            <div class="c-inputs">
                <form action="mailto:sirbmaria27@gmail.com" method="post" enctype="text/plain">
                    <textarea type="text"  placeholder="FullName" name="Nume"  required></textarea>
                    <textarea type="text"  placeholder="Telefon" name="Telefon"  required></textarea>
                    <textarea type:"text"  placeholder="Mesaj" name="Mesaj" required></textarea>
                    <!--sumbit-btn----------->
                    <button>SEND</button>
                </form>
            </div>

        </div>*@

       @* <div class="contact-box">

            <div class="content" style="width:350px;">
                <h4 class="subtitle" style="color:#4b3943; font-weight:bold"> Where can you find us:  </h4>
                <i class="fas fa-phone mt-3" style="color:black"></i> <a href="tel:+" style="color:#32262d"> 0756429081</a><br>
                <i class="fa fa-envelope mt-3" style="color:black"></i> <a href="mailto:sirbmaria27@gmail.com" style="color:#32262d">Select_event@office.ro</a><br>
                <i class="bi bi-buildings-fill mt-3" style="color:black"></i> <a style="color:#32262d">Iulius Mall, Cluj-Napoca, 407280</a><br>
            </div>

        </div>*@
        <!--map------------------->
       @* <div class="map">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2732.655843717301!2d23.62338601545408!3d46.77167977913816!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47490c6a98369865%3A0xe37d8af900151092!2sIulius%20Mall!5e0!3m2!1sro!2sro!4v1679579410473!5m2!1sro!2sro" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>
    </section>


</body>
</html>*@



@*<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous" />

  <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js">
</script>
<script type="text/javascript">
    (function () {
        emailjs.init("4rD4QpGDveMmEE3yr");
    })();
</script>
</head>
<body>
    <div class="container border mt-3 bg-light">
        <div class="row">
            <div class="col-md-6 p-5 bg-primary text-white">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2732.655843717301!2d23.62338601545408!3d46.77167977913816!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47490c6a98369865%3A0xe37d8af900151092!2sIulius%20Mall!5e0!3m2!1sro!2sro!4v1679579410473!5m2!1sro!2sro" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>

            </div>
            <div class="col-md-6 border-left py-3">
                <h1>Contact form</h1>
                <div class="form-group">
                    <h5 for="name">Name</h5>
                    <input type="text"
                           class="form-control"
                           id="name"
                           placeholder="Enter name" />
                </div>
                <div class="form-group">
                    <h5 for="email">Email</h5>
                    <input type="email"
                           class="form-control"
                           id="email"
                           placeholder="Enter email" />
                </div>
                <div class="form-group">
                    <h5 for="message">Message</h5>
                    <textarea class="form-control" id="message" rows="3"></textarea>
                </div>
                <button class="btn btn-primary" onclick="sendMail()">Submit</button>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    function sendMail() {
  var params = {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    message: document.getElementById("message").value,
  };

        const serviceID = "service_ky095z7";
        const templateID = "template_9ifhhbc";

    emailjs.send(serviceID, templateID, params)
    .then(res=>{
        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("message").value = "";
        console.log(res);
        alert("Your message sent successfully!!")

    })
    .catch(err=>console.log(err));

}
</script>
*@

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
    <!--link-stylesheet----------->
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!--using-fontAwesome------------>
    <script src="https://kit.fontawesome.com/c8e4d183c2.js" crossorigin="anonymous"></script>
</head>
<body>
    <!--contact-form-container------------------->
    <section id="contact">
        <!--socail----------->
        <div class="social">
            <!--icons--------->
            <a href="https://www.google.com/maps/d/viewer?mid=1IebEObFn7OscaZR7duxSuNZCmyk&hl=en&ll=46.772216878081785%2C23.582302999999982&z=14"><i class="bi bi-geo-alt"></i></a>
            <a href="tel:0756429081"><i class="bi bi-phone"></i></a>
            <a href="mailto:sirbmaria27@gmail.com"><i class="bi bi-envelope-at"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="bi bi-facebook"></i></a>
        </div>
        <!--contact-box------------->
        <div class="contact-box mt-4" style="width:600px;">
            <!--heading---------->
            <div class="c-heading" style="text-align:center;">
                <h1>Get In Touch</h1>
                <p style="text-align:center;">
                    We value your feedback. Feel free to contact us with any questions or concerns.
                </p>
            </div>
            <!--inputs------------------>
            <div class="c-inputs">
                <form action="https://api.web3forms.com/submit" method="POST" id="form">
                    <input type="hidden" name="access_key" value="04e8d13b-7f2a-4641-a3e6-8b490f4ef80f" />
                    <input type="hidden" name="subject" value="New Submission from Web3Forms" />
                    <input type="checkbox" name="botcheck" id="" style="display: none;" />

                    <div class="mb-6">
                        <label for="name" class="block mb-2 text-sm text-gray-600 dark:text-gray-400; text-align: left; text-decoration-underline">Full Name/Company name</label>
                        <br />
                        <input style="width:400px;height:50px; background-color:#57424f; color:#d8cfd4; opacity:0.8; " type="text" name="name" id="name" placeholder="Your full name" required />
                    </div>
                    <div class="mb-6">
                        <label for="email" class="block mb-2 text-sm text-gray-600 dark:text-gray-400; text-align: left; text-decoration-underline">Email Address</label>
                        <br />
                        <input style="width:400px; height:50px; background-color:#57424f; color:#d8cfd4;opacity:0.8;" type="email" name="email" id="email" placeholder="your email" required />
                    </div>
                    <div class="mb-6">
                        <label for="phone" class="text-sm text-gray-600 dark:text-gray-400; text-align: left; text-decoration-underline">Phone Number</label>
                        <br />
                        <input style="width:400px; height:50px; background-color:#57424f; color:#d8cfd4;opacity:0.8;" type="text" name="phone" id="phone" placeholder="Your phone number" required />
                    </div>
                    <div class="mb-6">
                        <label for="message" class="block mb-2 text-sm text-gray-600 dark:text-gray-400; text-align: left; text-decoration-underline">Your Message</label>
                        <br />
                        <textarea style="width:400px; background-color:#57424f; color:#d8cfd4;opacity:0.8;" rows="4" name="message" id="message" placeholder="Write Your Message" required></textarea>
                    </div>
                    <div class="mb-6">
                        <button type="submit" style="color:black;background-color:#644c5a; border-color:#7d5f71">
                            Send Message
                        </button>
                    </div>
                    <p class="text-base text-center text-gray-400" style="font-weight:bold; font-size:20px;" id="result"></p>
                </form>
            </div>

        </div>
        <!--map------------------->
        <div class="map">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2732.655843717301!2d23.62338601545408!3d46.77167977913816!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47490c6a98369865%3A0xe37d8af900151092!2sIulius%20Mall!5e0!3m2!1sro!2sro!4v1679579410473!5m2!1sro!2sro" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>
    </section>
</body>
</html>


<script>
    const form = document.getElementById("form");
    const result = document.getElementById("result");

    form.addEventListener("submit", function (e) {
        const formData = new FormData(form);
        e.preventDefault();
        var object = {};
        formData.forEach((value, key) => {
            object[key] = value;
        });
        var json = JSON.stringify(object);
        result.innerHTML = "Please wait...";

        fetch("https://api.web3forms.com/submit", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                Accept: "application/json"
            },
            body: json
        })
            .then(async (response) => {
                let json = await response.json();
                if (response.status == 200) {
                    result.innerHTML = json.message;
                    result.classList.remove("text-gray-500");
                    result.classList.add("text-green-500");
                } else {
                    console.log(response);
                    result.innerHTML = json.message;
                    result.classList.remove("text-gray-500");
                    result.classList.add("text-red-500");
                }
            })
            .catch((error) => {
                console.log(error);
                result.innerHTML = "Something went wrong!";
            })
            .then(function () {
                form.reset();
                setTimeout(() => {
                    result.style.display = "none";
                }, 5000);
            });
    });

</script>
